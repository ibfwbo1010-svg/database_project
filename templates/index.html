<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Vietnam K-POP Idol Trend</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<header>
    <h1>Vietnam K-POP Idol Trend</h1>
    <p>ë² íŠ¸ë‚¨ ì»¤ë®¤ë‹ˆí‹° ê¸°ë°˜ í•œë¥˜ ì•„ì´ëŒ íŠ¸ë Œë“œ</p>
</header>

<main>

    <!-- ì›” ì„ íƒ -->
    <section class="month-select">
        <form method="get">
            <select name="month" onchange="this.form.submit()">
                {% for m in range(1,13) %}
                <option value="{{ m }}" {% if selected_month == m|string %}selected{% endif %}>
                    {{ m }}ì›”
                </option>
                {% endfor %}
            </select>
        </form>
    </section>

    <!-- TOP í‚¤ì›Œë“œ -->
    <section class="keywords">
        <h2>ğŸ“Š {{ selected_month }}ì›” ë² íŠ¸ë‚¨ ì»¤ë®¤ë‹ˆí‹° TOP í‚¤ì›Œë“œ</h2>
        <ul>
            {% for k in top_keywords %}
            <li>#{{ k.keyword }} <span>{{ k.total_count }}</span></li>
            {% endfor %}
        </ul>
    </section>

    <!-- TOP 5 -->
    <section class="top5">
        <h2>ğŸ”¥ {{ selected_month }}ì›” TOP 5 ì•„ì´ëŒ</h2>

        {% if explanation %}
        <p class="explanation">
            ğŸ° {{ explanation }}
        </p>
        {% endif %}
    </section>

    <!-- ì „ì²´ ì•„ì´ëŒ -->
    <section class="all-idols">
        <h2>â­ ì „ì²´ ì•„ì´ëŒ ëª©ë¡</h2>

        <div class="idol-grid small">
            {% for idol in idols %}
            <a href="/idol/{{ idol.id }}" class="idol-card">
                <img src="{{ url_for(
                    'static',
                    filename='images/' ~ (idol.image if idol.image else 'default.jpg')
                ) }}">
                <h4>{{ idol.name }}</h4>
                <p>{{ idol.group_name }}</p>
            </a>
            {% endfor %}
        </div>
    </section>

    <hr>

    <!-- ê¸€ì“°ê¸° -->
    <section class="board">
        <h3>ğŸ“ ê¸€ì“°ê¸°</h3>
        <form method="post" action="/post">
            <input name="title" placeholder="ì œëª©">
            <textarea name="content" placeholder="ë‚´ìš©"></textarea>
            <button>ì €ì¥</button>
        </form>

        {% for post in posts %}
        <div class="post">
            <h4>{{ post.title }}</h4>
            <p>{{ post.content }}</p>
            <form method="post" action="/comment/{{ post.id }}">
                <input name="content" placeholder="ëŒ“ê¸€">
                <button>ì €ì¥</button>
            </form>
        </div>
        {% endfor %}
    </section>

</main>

<footer>
    <p>Â© 2025 Vietnam K-POP Idol Trend Service</p>
</footer>

</body>
</html>
